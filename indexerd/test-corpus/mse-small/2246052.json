{"text": "When is a linear operator the gradient of a function [imath]f:\\mathbb{R}^n \\to \\mathbb{R}[/imath]?\n\nLet [imath]F(x) = Ax[/imath], where [imath]A \\in \\mathbb{R}^{n \\times n}[/imath] and [imath]x \\in \\mathbb{R}^n[/imath]\nUnder what condition does there exist a [imath]f[/imath], such that [imath]\\nabla f = F[/imath]?\nIt is clear to me this happens when [imath]A[/imath] is diagonal matrix. Is there any other conditions on the matrix [imath]A[/imath] such that [imath]f[/imath] exists?\n\n\nClaim: If [imath]A[/imath] is symmetric, then such an [imath]f[/imath] exists.\nProof: Let [imath]A[/imath] be symmetric. Take [imath]f(x) = \\frac{1}{2}x^TAx[/imath]. Then\n[imath]\n(\\nabla f(x))_k = \\frac{\\partial}{\\partial x_k} \\frac{1}{2}\\sum_i \\sum_j A_{ij}x_ix_j = \\sum_i \\sum_j \\frac{1}{2}\\frac{\\partial}{\\partial x_k}(x_ix_j) A_{ij}\n[/imath]\nWe have [imath]\\frac{\\partial}{\\partial x_k}(x_ix_j) = 2x_i[/imath] if [imath]i=j=k[/imath] and [imath]\\frac{\\partial}{\\partial x_k}(x_ix_j) = x_j[/imath] if [imath]i = k[/imath] and [imath]j \\ne k[/imath] and [imath]\\frac{\\partial}{\\partial x_k}(x_ix_j) = x_i[/imath] if [imath]i \\ne k[/imath] and [imath]j = k[/imath]. If [imath]i \\ne k[/imath] and [imath]j \\ne k[/imath] then [imath]\\frac{\\partial}{\\partial x_k}(x_ix_j) = 0[/imath].\nWe're good when [imath]i=k[/imath] since we have a factor of 2 to cancel out the [imath]1/2[/imath]. Notice that for each [imath]i \\ne k[/imath], the term [imath]A_{ik}x_ix_k[/imath] and [imath]A_{ki}x_kx_i[/imath] both appear in the sum. Under assumption of symmetry, these terms are equal, which gives us the factor of 2 needed to cancel out the [imath]1/2[/imath].\nThus through the computations yields\n[imath]\n(\\nabla f(x))_k = \\sum_i A_{ki} x_i = (Ax)_k\n[/imath]\nIn other words, [imath]\\nabla f = F[/imath].\n\n\n", "url": "http://math.stackexchange.com/questions/2246052/when-is-a-linear-operator-the-gradient-of-a-function-f-mathbbrn-to-mathbb"}